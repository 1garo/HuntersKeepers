# frozen_string_literal: true

[{
  name: 'Manipulate Someone',
  description: 'Once you have given them a reason, tell
them what you want them to do and roll
+Charm',
  rating: 'charm',
  six_and_under: "Failure. Keeper's choice.",
  seven_to_nine: 'On a 7-9, they’ll do it, but only if
you do something for them right
now to show that you mean it. If
you asked too much, they’ll tell
you what, if anything, it would
take for them to do it.',
  ten_plus: 'On a 10+, then they’ll do it for
the reason you gave them. If you
asked too much, they’ll tell you the
minimum it would take for them
to do it (or if there’s no way they’d
do it).',
  twelve_plus: 'On a 12+ not only do
they do what you want right now,
they also become your ally for the
rest of the mystery (or, if you do
enough for them, permanently).',
},
 {
   name: 'Act Under Pressure',
   description: 'When you act under pressure, roll
+Cool.',
   rating: 'cool',
   six_and_under: "Failure. Keeper's choice.",
   seven_to_nine: 'On a 7-9 the Keeper is going to give
you a worse outcome, hard choice, or
price to pay.',
   ten_plus: 'On a 10+ you do what you set out to.',
   twelve_plus: 'On a 12+ you may
choose to either do what you wanted
and something extra, or to do what you
wanted to absolute perfection.'
 },
 {
   name: 'Help Out',
   description: 'When you help another hunter, roll
+Cool.',
   rating: 'cool',
   six_and_under: "Failure. Keeper's choice.",
   seven_to_nine: 'On a 7-9 your help grants them +1 to
their roll, but you also expose yourself
to trouble or danger.',
   ten_plus: 'On a 10+ your help grants them +1
to their roll.',
   twelve_plus: 'On a 12+ your help
lets them act as if they just rolled a 12,
regardless of what they actually got.',
},
{
  name: 'Investigate a Mystery',
  description: 'When you investigate a mystery, roll
+Sharp. On a 10+ hold 2, and on a 7-9
hold 1. One hold can be spent to ask the
Keeper one of the following questions:
• What happened here?
• What sort of creature is it?
• What can it do?
• What can hurt it?
• Where did it go?
• What was it going to do?
• What is being concealed here?',
  rating: 'sharp',
  six_and_under: "Failure. Keeper's choice.",
  seven_to_nine: 'You can ask the
Keeper one of the following questions:
• What happened here?
• What sort of creature is it?
• What can it do?
• What can hurt it?
• Where did it go?
• What was it going to do?
• What is being concealed here?',
   ten_plus: 'You can ask the
Keeper two of the following questions:
• What happened here?
• What sort of creature is it?
• What can it do?
• What can hurt it?
• Where did it go?
• What was it going to do?
• What is being concealed here?',
   twelve_plus: 'On a 12+, you may ask the
Keeper any two questions you want about the
mystery, not just the listed ones.'
 },
 {
   name: 'Read a Bad Situation',
   description: 'When you look around and read a bad
situation, roll +Sharp.',
   rating: 'sharp',
   six_and_under: "Failure. Keeper's choice.",
   seven_to_nine: 'Ask the
Keeper one of the following questions:
• What’s my best way in?
• What’s my best way out?
• Are there any dangers we haven’t
noticed?
• What’s the biggest threat?
• What’s most vulnerable to me?
• What’s the best way to protect the
victims?
If you act on the answers, you get +1
ongoing while the information is relevant.',
   ten_plus: 'Ask the
Keeper any three of the following questions:
• What’s my best way in?
• What’s my best way out?
• Are there any dangers we haven’t
noticed?
• What’s the biggest threat?
• What’s most vulnerable to me?
• What’s the best way to protect the
victims?
If you act on the answers, you get +1
ongoing while the information is relevant.',
   twelve_plus: 'You may ask the keeper any three any question you want about
the situation, not just the listed ones. If you act on the answers, you get +1
ongoing while the information is relevant.'
 },
 {
   name: 'Kick some Ass',
   description: 'When you get into a fight and kick some
ass, roll +Tough.',
   rating: 'tough',
   six_and_under: 'Failure. You take a beating.',
   seven_to_nine: 'You and whatever you’re
fighting inflict harm on each other. The
amount of harm is based on the established dangers in the game. That usually
means you inflict the harm rating of
your weapon and your enemy inflicts
their attack’s harm rating on you.',
   ten_plus: 'You and whatever you’re
fighting inflict harm on each other. The
amount of harm is based on the established dangers in the game. That usually
means you inflict the harm rating of
your weapon and your enemy inflicts
their attack’s harm rating on you.
On a 10+, choose one extra effect:
• You gain the advantage: take +1
forward, or give +1 forward to
another hunter.
• You inflict terrible harm (+1
harm).
• You suffer less harm (-1 harm).
• You force them where you want
them.',
   twelve_plus: 'You and whatever you’re
fighting inflict harm on each other. The
amount of harm is based on the established dangers in the game. That usually
means you inflict the harm rating of
your weapon and your enemy inflicts
their attack’s harm rating on you.
On a 12+ instead pick
an enhanced effect:
• You completely hold the advantage. All hunters involved in the
fight get +1 forward.
• You suffer no harm at all.
• Your attack inflicts double the
normal harm.
• Your attack drives the enemy away
in a rout.'
 },
 {
   name: 'Protect Someone',
   description: 'When you prevent harm to another
character, roll +Tough',
   rating: 'tough',
   six_and_under: "Failure. You fail to preotect them,
   and you expose yourself to danger.",
   seven_to_nine: 'You protect them okay, but
you’ll suffer some or all of the harm they
were going to get. ',
   ten_plus: 'You protect them okay, but
you’ll suffer some or all of the harm they
were going to get. Choose an extra:
• You suffer little harm (-1 harm).
• All impending danger is now
focused on you.
• You inflict harm on the enemy.
• You hold the enemy back.',
   twelve_plus: 'Both you and
the character you are protecting are
unharmed and out of danger. If you
were protecting a bystander, they also
become your ally.'
 },
 {
   name: 'Use Magic',
   description: 'When you use magic, say what you’re
trying to achieve and how you do the
spell, then roll +Weird.',
   rating: 'weird',
   six_and_under: "Failure. Keeper's choice. It is always bad.",
   seven_to_nine: 'It works imperfectly: choose
your effect and a glitch. The Keeper will
decide what effect the glitch has.
Effects:
• Inflict harm (1-harm ignorearmour magic obvious).
• Enchant a weapon. It gets +1 harm
and +magic.
• Do one thing that is beyond
human limitations.
• Bar a place or portal to a specific
person or a type of creature.
• Trap a specific person, minion, or
monster.
• Banish a spirit or curse from the
person, object, or place it inhabits.
• Summon a monster into the world.
• Communicate with something
that you do not share a language
with.
• Observe another place or time.
• Heal 1-harm from an injury, or
cure a disease, or neutralize a
poison.
Glitches:
• The effect is weakened.
• The effect is of short duration.
• You take 1-harm ignore-armour.
• The magic draws immediate,
unwelcome attention.
• It has a problematic side effect.',
   ten_plus: 'The magic works without
issues: choose your effect.
• Inflict harm (1-harm ignorearmour magic obvious).
• Enchant a weapon. It gets +1 harm
and +magic.
• Do one thing that is beyond
human limitations.
• Bar a place or portal to a specific
person or a type of creature.
• Trap a specific person, minion, or
monster.
• Banish a spirit or curse from the
person, object, or place it inhabits.
• Summon a monster into the world.
• Communicate with something
that you do not share a language
with.
• Observe another place or time.
• Heal 1-harm from an injury, or
cure a disease, or neutralize a
poison.',
   twelve_plus: 'The Keeper
will offer you some added benefit.
The magic works without
issues: choose your effect.
• Inflict harm (1-harm ignorearmour magic obvious).
• Enchant a weapon. It gets +1 harm
and +magic.
• Do one thing that is beyond
human limitations.
• Bar a place or portal to a specific
person or a type of creature.
• Trap a specific person, minion, or
monster.
• Banish a spirit or curse from the
person, object, or place it inhabits.
• Summon a monster into the world.
• Communicate with something
that you do not share a language
with.
• Observe another place or time.
• Heal 1-harm from an injury, or
cure a disease, or neutralize a
poison.',
},
{
  name: 'Alt: Empath',
  rating:'weird',
  six_and_under: 'Your brain is overwhelmed with emotion.',
  seven_to_nine: 'You gain a hazy impression of their current emotional
state and intentions.',
  ten_plus: 'You gain a clear
impression of their current
emotional state and intentions.
Take +1 forward when acting on
this knowledge.',
  twelve_plus: 'You get an impression
(as for 10 or more), and
you may ask one follow-up question that the Keeper will answer
honestly.',
},
{
  name: 'Alt: Illuminated',
  rating: 'weird',
  six_and_under: 'The Secret Masters’
reply is terrible, garbled, or
somehow dangerously wrong.',
  seven_to_nine: 'The Secret Masters need
you to complete a task for them.
Once it is done, they reveal a key
fact, clue, or technique that will
help you.',
  ten_plus: 'The Secret
Masters reveal a key fact, clue, or
technique that will help you.',
  twelve_plus: 'The Secret
Masters reveal a key fact, clue,
or technique that will help you.
You may ask one follow-up question that the Keeper will answer
honestly.',
},
{
  name: 'Alt: No Limits',
  rating: 'weird',
  six_and_under: 'Something goes
horribly wrong.',
  seven_to_nine: 'You do it but choose
one consequence: suffer 1-harm,
take –1 forward, or you need to
rest right now',
  ten_plus: 'Your body obeys
your will, to the limits of physical possibility (see below), for a
moment.',
  twelve_plus: 'You can continue
acting at your body’s limits for 30
seconds.',
},
{
  name: 'Alt: Past Lives',
  rating: 'weird',
  six_and_under: 'A past life takes over
for a while.',
  seven_to_nine: 'A past life has a little
experience with this. Ask the
Keeper one of the questions below
• What did a past life discover about
___________?
• How did a past life deal with
__________?
• What important hidden secret can
a past life show me the way to?
• What did a past life learn too late
to help them?
• What does a past life advise me to
do now?',
  ten_plus: 'A past life has
something useful to offer. Ask the
Keeper two of the questions below.
• What did a past life discover about
___________?
• How did a past life deal with
__________?
• What important hidden secret can
a past life show me the way to?
• What did a past life learn too late
to help them?
• What does a past life advise me to
do now?',
  twelve_plus: 'A past life knows
exactly what you were after. Ask
the Keeper one of the questions
below, and one free-form question.
Gain +1 ongoing while acting on
the answers.
• What did a past life discover about
___________?
• How did a past life deal with
__________?
• What important hidden secret can
a past life show me the way to?
• What did a past life learn too late
to help them?
• What does a past life advise me to
do now?',
},
{
  name: 'Alt: Sentive',
  rating: 'weird',
  six_and_under: 'Your brain makes
contact with something dangerous.',
  seven_to_nine: 'You gain a hazy impression about something important.',
  ten_plus: 'You gain a definite impression (a vision, tangible
aura, overheard thought, etc) about
something important.',
  twelve_plus: 'You get an
impression as for 10 or more, plus
you may ask one follow-up question that the Keeper will answer
honestly.',
},
{
  name: 'Alt: Trust Your Gut',
  rating: 'weird',
  six_and_under: 'Your instincts lead you
into danger',
  seven_to_nine: 'The Keeper will tell you
a general direction to go. Take +1
forward as you explore that.',
  ten_plus: 'The Keeper will
tell where you should go. Wherever that is, it will be important.
You get +1 ongoing on the way to
this place.',
  twelve_plus: 'In addition to the
usual 10+ result, the Keeper will
tell you about one important thing
you should investigate further.',
},
{
  name: 'Alt: Telekinesis',
  rating: 'weird',
  six_and_under: 'Something goes
horribly wrong.',
  seven_to_nine: 'You move it but it hurts.
Choose one option and mark
2-harm.
• Something is held fast.
• Something is hurt (2-harm smash).
• Something catches fire.
• You can fling something bigger
than a person.
• You keep it basically under your
control.
• You suffer 1 less harm.',
  ten_plus: 'You move it.
Choose two options and mark
1-harm.
• Something is held fast.
• Something is hurt (2-harm smash).
• Something catches fire.
• You can fling something bigger
than a person.
• You keep it basically under your
control.
• You suffer 1 less harm.',
  twelve_plus: 'Choose three
options. You may also choose from
the advanced options:
Normal Options:
• Something is held fast.
• Something is hurt (2-harm smash).
• Something catches fire.
• You can fling something bigger
than a person.
• You keep it basically under your
control.
• You suffer 1 less harm.
Advanced Options:
• Something explodes (3-harm
close fire area messy)
• Something implodes (3-harm
close crush)
• Lots of stuff is flying under your
control.
• You have perfect and precise
control over exactly what
happens.',
},
{
  name: 'Alt: Weird Science',
  rating: 'weird',
  six_and_under: 'Something goes
horribly wrong. You are still able to
create your device, but the Keeper
picks three requirements.
• It needs a rare and/or weird material.
• It won’t be very reliable.
• It requires huge amounts of power
or fuel.
• It will take a long time to get it
working.
• It won’t work exactly as you
intended.
• You’ll need help (beyond the
hunters on your team) to finish it.',
  seven_to_nine: 'you pick one requirement and the Keeper picks a
second one.
It needs a rare and/or weird material.
• It won’t be very reliable.
• It requires huge amounts of power
or fuel.
• It will take a long time to get it
working.
• It won’t work exactly as you
intended.
• You’ll need help (beyond the
hunters on your team) to finish it.',
  ten_plus: 'You pick two
requirements.
• It needs a rare and/or weird material.
• It won’t be very reliable.
• It requires huge amounts of power
or fuel.
• It will take a long time to get it
working.
• It won’t work exactly as you
intended.
• You’ll need help (beyond the
hunters on your team) to finish it.',
  twelve_plus: 'On a 12 or more, you gain +1
ongoing when operating the device.
• It needs a rare and/or weird material.
• It won’t be very reliable.
• It requires huge amounts of power
or fuel.
• It will take a long time to get it
working.
• It won’t work exactly as you
intended.
• You’ll need help (beyond the
hunters on your team) to finish it.',
}].each do |move|
  Moves::Basic.find_or_create_by(move)
end

after :playbook do
  ######
  # Playbook Moves
  # ratings: charm: 0, cool: 1, sharp: 2, tough: 3, weird: 4
  ######

  ######
  # Chosen
  ######
  chosen = Playbook.find 1
  [{
    name: "Destiny's Plaything",
    rating: :weird,
    six_and_under: 'On a miss, something bad is going to happen to you.',
    seven_to_nine: 'On
  a 7-9 you get a vague hint about the coming mystery.',
    ten_plus: "On a 10+, the Keeper will
  reveal a useful detail about the coming mystery.",
    type: 'Moves::Rollable',
    playbook_id: chosen.id,
    description: 'At the beginning of each
  mystery, roll +Weird to see what is revealed about
  your immediate future.'
  },
   {
     name: 'I’m Here For A Reason',
     type: 'Moves::Descriptive',
     playbook_id: chosen.id,
     description: 'There’s something you are
  destined to do. Work out the details with the Keeper,
  based on your fate. You cannot die until it comes
  to pass. If you die in play, then you must spend a
  Luck point. You will then, somehow, recover or be
  returned to life. Once your task is done (or you use
  up all your Luck), all bets are off.'
   },
   {
     name: 'The Big Entrance',
     rating: :cool,
     six_and_under: 'On a miss, you’re marked as the
  biggest threat by all enemies who are present.',
     seven_to_nine: 'On a 7-9, you pick one
  person or monster to stop, watch and listen until
  you finish talking.',
     ten_plus: 'On 10+ everyone stops to watch and listen until you
  finish your opening speech.',
     type: 'Moves::Rollable',
     playbook_id: chosen.id,
     description: 'When you make a showy
  entrance into a dangerous situation, roll +Cool.'
   },
   {
     name: 'Devastating',
     type: 'Moves::Descriptive',
     playbook_id: chosen.id,
     description: 'When you inflict harm, you may
  inflict +1 harm.'
   },
   {
     name: 'Dutiful',
     type: 'Moves::Descriptive',
     playbook_id: chosen.id,
     description: 'When your fate rears its ugly head, and
  you act in accordance with any of your fate tags
  (either heroic or doom) then mark experience. If it’s
  a heroic tag, take +1 forward'
   },
   {
     name: 'Invincible',
     type: 'Moves::Descriptive',
     playbook_id: chosen.id,
     description: 'You always count as having 2-armour.
  This doesn’t stack with other protection.'
   },
   {
     name: 'Resilience',
     type: 'Moves::Descriptive',
     playbook_id: chosen.id,
     description: 'You heal faster than normal people. Any
  time your harm gets healed, heal an extra point.
  Additionally, your wounds count as 1-harm less for
  the purpose of the Keeper’s harm moves.'
   }].each do |move|
    Move.find_or_create_by(move)
  end
end
